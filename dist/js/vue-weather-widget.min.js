"use strict";var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return commonjsRequire(t,null==e?n.path:e)}},n.exports),n.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var requestInterval,cancelInterval,fetchJsonp=createCommonjsModule(function(t,e){function h(e){try{delete window[e]}catch(t){window[e]=void 0}}function d(t){var e=document.getElementById(t);e&&document.getElementsByTagName("head")[0].removeChild(e)}var n;n={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null},t.exports=function(a){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a,l=r.timeout||n.timeout,c=r.jsonpCallback||n.jsonpCallback,u=void 0;return new Promise(function(e,t){var n=r.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),o=c+"_"+n;window[n]=function(t){e({ok:!0,json:function(){return Promise.resolve(t)}}),u&&clearTimeout(u),d(o),h(n)},s+=-1===s.indexOf("?")?"?":"&";var i=document.createElement("script");i.setAttribute("src",""+s+c+"="+n),r.charset&&i.setAttribute("charset",r.charset),i.id=o,document.getElementsByTagName("head")[0].appendChild(i),u=setTimeout(function(){t(new Error("JSONP request to "+a+" timed out")),h(n),d(o),window[n]=function(){h(n)}},l),i.onerror=function(){t(new Error("JSONP request to "+a+" failed")),h(n),d(o),u&&clearTimeout(u)}})}}),IP_CACHE="vww__cache_ip",IP_LOCATION_CACHE="vww__cache_ip_location",GEOCODE_CACHE="vww__cache_geocode",Utils={lookupIP:function(){var t=localStorage[IP_CACHE]||"{}";return(t=JSON.parse(t)).ip?Promise.resolve(t):fetch("https://www.cloudflare.com/cdn-cgi/trace").then(function(t){return t.text()}).then(function(t){return t.split("\n").map(function(t){return t.split("=")}).filter(function(t){return 2==t.length}).reduce(function(t,e){return t[e[0].trim()]=e[1].trim(),t},{})}).then(function(t){return localStorage[IP_CACHE]=JSON.stringify(t),t})},fetchLocationByIP:function(e){var n=this;if(!e)return this.lookupIP().then(function(t){return n.fetchLocationByIP(t.ip)});var o=localStorage[IP_LOCATION_CACHE]||"{}";if((o=JSON.parse(o))[e])return o[e];return fetch("https://api.ipregistry.co/"+e+"?key=f8n4kqe8pv4kii").then(function(t){return t.json()}).then(function(t){return o[e]=t.location||{},localStorage[IP_LOCATION_CACHE]=JSON.stringify(o),o[e]})},geocode:function(e,t){void 0===t&&(t=!1);var n=localStorage[GEOCODE_CACHE]||"{}";if((n=JSON.parse(n))[e])return Promise.resolve(n[e]);return fetch("http://api.positionstack.com/v1/"+(t?"reverse":"forward")+"?access_key=c3bb8aa0a56b21122dea6a2a8ada70c8&query="+e).then(function(t){return t.json()}).then(function(t){return n[e]=t.data[0],localStorage[GEOCODE_CACHE]=JSON.stringify(n),n[e]})},reverseGeocode:function(t,e){return this.geocode(t+","+e,!0)},fetchWeather:function(t){if((t=t||{}).units=t.units||"us",t.language=t.language||"en",!t.lat||!t.lng)throw new Error("Geolocation is required");return fetchJsonp("https://api.darksky.net/forecast/"+t.apiKey+"/"+t.lat+","+t.lng+"?units="+t.units+"&lang="+t.language).then(function(t){return t.json()})}};!function(){var o=commonjsGlobal.requestAnimationFrame||commonjsGlobal.webkitRequestAnimationFrame||commonjsGlobal.mozRequestAnimationFrame||commonjsGlobal.oRequestAnimationFrame||commonjsGlobal.msRequestAnimationFrame,e=commonjsGlobal.cancelAnimationFrame||commonjsGlobal.webkitCancelAnimationFrame||commonjsGlobal.mozCancelAnimationFrame||commonjsGlobal.oCancelAnimationFrame||commonjsGlobal.msCancelAnimationFrame;cancelInterval=o&&e?(requestInterval=function(e){var n={value:null};return function t(){n.value=o(t),e()}(),n},function(t){e(t.value)}):(requestInterval=setInterval,clearInterval)}();var KEYFRAME=500,STROKE=.08,TAU=2*Math.PI,TWO_OVER_SQRT_2=2/Math.sqrt(2);function circle(t,e,n,o){t.beginPath(),t.arc(e,n,o,0,TAU,!1),t.fill()}function line(t,e,n,o,i){t.beginPath(),t.moveTo(e,n),t.lineTo(o,i),t.stroke()}function puff(t,e,n,o,i,a,r,s){var l=Math.cos(e*TAU);circle(t,n-Math.sin(e*TAU)*i,o+l*a+.5*(s-=r),r+(1-.5*l)*s)}function puffs(t,e,n,o,i,a,r,s){for(var l=5;l--;)puff(t,e+l/5,n,o,i,a,r,s)}function cloud(t,e,n,o,i,a,r){e/=3e4;var s=.21*i,l=.12*i,c=.24*i,u=.28*i;t.fillStyle=r,puffs(t,e,n,o,s,l,c,u),t.globalCompositeOperation="destination-out",puffs(t,e,n,o,s,l,c-a,u-a),t.globalCompositeOperation="source-over"}function sun(t,e,n,o,i,a,r){e/=12e4;var s,l,c,u,h=.25*i-.5*a,d=.32*i+.5*a,f=.5*i-.5*a;for(t.strokeStyle=r,t.lineWidth=a,t.lineCap="round",t.lineJoin="round",t.beginPath(),t.arc(n,o,h,0,TAU,!1),t.stroke(),s=8;s--;)l=(e+s/8)*TAU,line(t,n+(c=Math.cos(l))*d,o+(u=Math.sin(l))*d,n+c*f,o+u*f)}function moon(t,e,n,o,i,a,r){e/=15e3;var s=.29*i-.5*a,l=.05*i,c=Math.cos(e*TAU),u=c*TAU/-16;t.strokeStyle=r,t.lineWidth=a,t.lineCap="round",t.lineJoin="round",n+=c*l,t.beginPath(),t.arc(n,o,s,u+TAU/8,u+7*TAU/8,!1),t.arc(n+Math.cos(u)*s*TWO_OVER_SQRT_2,o+Math.sin(u)*s*TWO_OVER_SQRT_2,s,u+5*TAU/8,u+3*TAU/8,!0),t.closePath(),t.stroke()}function rain(t,e,n,o,i,a,r){e/=1350;var s,l,c,u,h=.16*i,d=11*TAU/12,f=7*TAU/12;for(t.fillStyle=r,s=4;s--;)c=n+(s-1.5)/1.5*(1===s||2===s?-1:1)*h,u=o+(l=(e+s/4)%1)*l*i,t.beginPath(),t.moveTo(c,u-1.5*a),t.arc(c,u,.75*a,d,f,!1),t.fill()}function sleet(t,e,n,o,i,a,r){e/=750;var s,l,c,u,h=.1875*i;for(t.strokeStyle=r,t.lineWidth=.5*a,t.lineCap="round",t.lineJoin="round",s=4;s--;)l=(e+s/4)%1,line(t,c=Math.floor(n+(s-1.5)/1.5*(1===s||2===s?-1:1)*h)+.5,(u=o+l*i)-1.5*a,c,u+1.5*a)}function snow(t,e,n,o,i,a,r){var s,l,c,u,h=.16*i,d=.75*a,f=(e/=3e3)*TAU*.7,v=Math.cos(f)*d,m=Math.sin(f)*d,p=f+TAU/3,g=Math.cos(p)*d,y=Math.sin(p)*d,w=f+2*TAU/3,_=Math.cos(w)*d,S=Math.sin(w)*d;for(t.strokeStyle=r,t.lineWidth=.5*a,t.lineCap="round",t.lineJoin="round",s=4;s--;)l=(e+s/4)%1,line(t,(c=n+Math.sin((l+s/4)*TAU)*h)-v,(u=o+l*i)-m,c+v,u+m),line(t,c-g,u-y,c+g,u+y),line(t,c-_,u-S,c+_,u+S)}function fogbank(t,e,n,o,i,a,r){e/=3e4;var s=.21*i,l=.06*i,c=.21*i,u=.28*i;t.fillStyle=r,puffs(t,e,n,o,s,l,c,u),t.globalCompositeOperation="destination-out",puffs(t,e,n,o,s,l,c-a,u-a),t.globalCompositeOperation="source-over"}var WIND_PATHS=[[-.75,-.18,-.7219,-.1527,-.6971,-.1225,-.6739,-.091,-.6516,-.0588,-.6298,-.0262,-.6083,.0065,-.5868,.0396,-.5643,.0731,-.5372,.1041,-.5033,.1259,-.4662,.1406,-.4275,.1493,-.3881,.153,-.3487,.1526,-.3095,.1488,-.2708,.1421,-.2319,.1342,-.1943,.1217,-.16,.1025,-.129,.0785,-.1012,.0509,-.0764,.0206,-.0547,-.012,-.0378,-.0472,-.0324,-.0857,-.0389,-.1241,-.0546,-.1599,-.0814,-.1876,-.1193,-.1964,-.1582,-.1935,-.1931,-.1769,-.2157,-.1453,-.229,-.1085,-.2327,-.0697,-.224,-.0317,-.2064,.0033,-.1853,.0362,-.1613,.0672,-.135,.0961,-.1051,.1213,-.0706,.1397,-.0332,.1512,.0053,.158,.0442,.1624,.0833,.1636,.1224,.1615,.1613,.1565,.1999,.15,.2378,.1402,.2749,.1279,.3118,.1147,.3487,.1015,.3858,.0892,.4236,.0787,.4621,.0715,.5012,.0702,.5398,.0766,.5768,.089,.6123,.1055,.6466,.1244,.6805,.144,.7147,.163,.75,.18],[-.75,0,-.7033,.0195,-.6569,.0399,-.6104,.06,-.5634,.0789,-.5155,.0954,-.4667,.1089,-.4174,.1206,-.3676,.1299,-.3174,.1365,-.2669,.1398,-.2162,.1391,-.1658,.1347,-.1157,.1271,-.0661,.1169,-.017,.1046,.0316,.0903,.0791,.0728,.1259,.0534,.1723,.0331,.2188,.0129,.2656,-.0064,.3122,-.0263,.3586,-.0466,.4052,-.0665,.4525,-.0847,.5007,-.1002,.5497,-.113,.5991,-.124,.6491,-.1325,.6994,-.138,.75,-.14]],WIND_OFFSETS=[{start:.36,end:.11},{start:.56,end:.16}];function leaf(t,e,n,o,i,a,r){var s=i/8,l=s/3,c=2*l,u=e%1*TAU,h=Math.cos(u),d=Math.sin(u);t.fillStyle=r,t.strokeStyle=r,t.lineWidth=a,t.lineCap="round",t.lineJoin="round",t.beginPath(),t.arc(n,o,s,u,u+Math.PI,!1),t.arc(n-l*h,o-l*d,c,u+Math.PI,u,!1),t.arc(n+c*h,o+c*d,l,u+Math.PI,u,!0),t.globalCompositeOperation="destination-out",t.fill(),t.globalCompositeOperation="source-over",t.stroke()}function swoosh(t,e,n,o,i,a,r,s,l){e/=2500;var c,u,h,d,f=WIND_PATHS[r],v=(e+r-WIND_OFFSETS[r].start)%s,m=(e+r-WIND_OFFSETS[r].end)%s,p=(e+r)%s;if(t.strokeStyle=l,t.lineWidth=a,t.lineCap="round",t.lineJoin="round",v<1){if(t.beginPath(),v*=f.length/2-1,v-=c=Math.floor(v),c*=2,c+=2,t.moveTo(n+(f[c-2]*(1-v)+f[c]*v)*i,o+(f[c-1]*(1-v)+f[1+c]*v)*i),m<1){for(m*=f.length/2-1,m-=u=Math.floor(m),u*=2,u+=2,d=c;d!==u;d+=2)t.lineTo(n+f[d]*i,o+f[d+1]*i);t.lineTo(n+(f[u-2]*(1-m)+f[u]*m)*i,o+(f[u-1]*(1-m)+f[u+1]*m)*i)}else for(d=c;d!==f.length;d+=2)t.lineTo(n+f[d]*i,o+f[d+1]*i);t.stroke()}else if(m<1){for(t.beginPath(),m*=f.length/2-1,m-=u=Math.floor(m),u*=2,u+=2,t.moveTo(n+f[0]*i,o+f[1]*i),d=2;d!==u;d+=2)t.lineTo(n+f[d]*i,o+f[d+1]*i);t.lineTo(n+(f[u-2]*(1-m)+f[u]*m)*i,o+(f[u-1]*(1-m)+f[u+1]*m)*i),t.stroke()}p<1&&(p*=f.length/2-1,p-=h=Math.floor(p),h*=2,leaf(t,e,n+(f[(h+=2)-2]*(1-p)+f[h]*p)*i,o+(f[h-1]*(1-p)+f[1+h]*p)*i,i,a,l))}var Skycons=function(t){this.list=[],this.interval=null,this.color=t&&t.color?t.color:"black",this.resizeClear=!(!t||!t.resizeClear)};Skycons.CLEAR_DAY=function(t,e,n){var o=t.canvas.width,i=t.canvas.height,a=Math.min(o,i);sun(t,e,.5*o,.5*i,a,a*STROKE,n)},Skycons.CLEAR_NIGHT=function(t,e,n){var o=t.canvas.width,i=t.canvas.height,a=Math.min(o,i);moon(t,e,.5*o,.5*i,a,a*STROKE,n)},Skycons.PARTLY_CLOUDY_DAY=function(t,e,n){var o=t.canvas.width,i=t.canvas.height,a=Math.min(o,i);sun(t,e,.625*o,.375*i,.75*a,a*STROKE,n),cloud(t,e,.375*o,.625*i,.75*a,a*STROKE,n)},Skycons.PARTLY_CLOUDY_NIGHT=function(t,e,n){var o=t.canvas.width,i=t.canvas.height,a=Math.min(o,i);moon(t,e,.667*o,.375*i,.75*a,a*STROKE,n),cloud(t,e,.375*o,.625*i,.75*a,a*STROKE,n)},Skycons.CLOUDY=function(t,e,n){var o=t.canvas.width,i=t.canvas.height,a=Math.min(o,i);cloud(t,e,.5*o,.5*i,a,a*STROKE,n)},Skycons.RAIN=function(t,e,n){var o=t.canvas.width,i=t.canvas.height,a=Math.min(o,i);rain(t,e,.5*o,.37*i,.9*a,a*STROKE,n),cloud(t,e,.5*o,.37*i,.9*a,a*STROKE,n)},Skycons.SLEET=function(t,e,n){var o=t.canvas.width,i=t.canvas.height,a=Math.min(o,i);sleet(t,e,.5*o,.37*i,.9*a,a*STROKE,n),cloud(t,e,.5*o,.37*i,.9*a,a*STROKE,n)},Skycons.SNOW=function(t,e,n){var o=t.canvas.width,i=t.canvas.height,a=Math.min(o,i);snow(t,e,.5*o,.37*i,.9*a,a*STROKE,n),cloud(t,e,.5*o,.37*i,.9*a,a*STROKE,n)},Skycons.WIND=function(t,e,n){var o=t.canvas.width,i=t.canvas.height,a=Math.min(o,i);swoosh(t,e,.5*o,.5*i,a,a*STROKE,0,2,n),swoosh(t,e,.5*o,.5*i,a,a*STROKE,1,2,n)},Skycons.FOG=function(t,e,n){var o=t.canvas.width,i=t.canvas.height,a=Math.min(o,i),r=a*STROKE;fogbank(t,e,.5*o,.32*i,.75*a,r,n),e/=5e3;var s=Math.cos(e*TAU)*a*.02,l=Math.cos((e+.25)*TAU)*a*.02,c=Math.cos((e+.5)*TAU)*a*.02,u=Math.cos((e+.75)*TAU)*a*.02,h=.936*i,d=Math.floor(h-.5*r)+.5,f=Math.floor(h-2.5*r)+.5;t.strokeStyle=n,t.lineWidth=r,t.lineCap="round",t.lineJoin="round",line(t,s+.2*o+.5*r,d,l+.8*o-.5*r,d),line(t,c+.2*o+.5*r,f,u+.8*o-.5*r,f)},Skycons.prototype={_determineDrawingFunction:function(t){return"string"==typeof t&&(t=Skycons[t.toUpperCase().replace(/-/g,"_")]||null),t},add:function(t,e){var n;"string"==typeof t&&(t=document.getElementById(t)),null!=t&&"function"==typeof(e=this._determineDrawingFunction(e))&&(n={element:t,context:t.getContext("2d"),drawing:e},this.list.push(n),this.draw(n,KEYFRAME))},set:function(t,e){var n;for("string"==typeof t&&(t=document.getElementById(t)),n=this.list.length;n--;)if(this.list[n].element===t)return this.list[n].drawing=this._determineDrawingFunction(e),void this.draw(this.list[n],KEYFRAME);this.add(t,e)},remove:function(t){var e;for("string"==typeof t&&(t=document.getElementById(t)),e=this.list.length;e--;)if(this.list[e].element===t)return void this.list.splice(e,1)},draw:function(t,e){var n=t.context.canvas;this.resizeClear?n.width=n.width:t.context.clearRect(0,0,n.width,n.height),t.drawing(t.context,e,this.color)},play:function(){var n=this;this.pause(),this.interval=requestInterval(function(){for(var t=Date.now(),e=n.list.length;e--;)n.draw(n.list[e],t)},1e3/60)},pause:function(){this.interval&&(cancelInterval(this.interval),this.interval=null)}};var skycons=Skycons;function buildWrapper(t){var e={};return e.paused=!t.interval,e.play=function(){t.play(),e.paused=!1},e.pause=function(){t.pause(),e.paused=!0},e}var SkyconComponent={render:function(){var t=this.$createElement;return(this._self._c||t)("canvas",{attrs:{width:this.width,height:this.height}})},staticRenderFns:[],props:{condition:{type:String,required:!0},size:{type:[Number,String],default:64},color:{type:String,default:"black"},paused:{type:Boolean,default:!1}},computed:{width:function(){return""+this.size},height:function(){return""+this.size},icon:function(){return this.condition.toUpperCase().replace(/[\s.-]/g,"_")}},mounted:function(){var t=new skycons({color:this.color});t.set(this.$el,skycons[this.icon]),this.paused||t.play(),this.$emit("load",buildWrapper(t))}},Skycon=SkyconComponent,VueWeatherWidget={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vww__widget",style:{color:e.textColor}},[e._t("header",[e.hideHeader?e._e():n("div",{staticClass:"vww__header",style:{borderColor:e.barColor}},[e._t("title",[n("span",{staticClass:"vww__title"},[e._v("\n          "+e._s("Weather for "+e.location.name)+"\n        ")])])],2)]),e._v(" "),n("div",{staticClass:"vww__content"},[e.loading?n("div",{staticClass:"vww__loading"},[e._t("loading",[n("skycon",{attrs:{condition:"partly-cloudy-day",color:e.textColor,paused:e.disableAnimation}}),e._v(" "),n("span",{staticClass:"vww__title"},[e._v("Loading...")])])],2):!e.error&&e.weather&&e.currently&&e.daily?[n("div",{staticClass:"vww__currently"},[n("div",[n("skycon",{attrs:{condition:e.currently.icon,size:"80",color:e.textColor,paused:e.disableAnimation}}),e._v(" "),n("div",{staticClass:"vww__temp"},[e._v("\n            "+e._s(Math.round(e.currently.temperature))+"°\n            "),e.isDownward?n("div",[n("svg",{attrs:{viewBox:"0 0 306 306",width:"24",height:"24"}},[n("polygon",{style:{fill:e.textColor},attrs:{points:"270.3,58.65 153,175.95 35.7,58.65 0,94.35 153,247.35 306,94.35"}})])]):n("div",[n("svg",{attrs:{viewBox:"0 0 306 306",width:"24",height:"24"}},[n("polygon",{style:{fill:e.textColor},attrs:{points:"35.7,247.35 153,130.05 270.3,247.35 306,211.65 153,58.65 0,211.65"}})])])])],1),e._v(" "),n("div",{staticClass:"vww__title"},[e._v(e._s(e.currently.summary))]),e._v(" "),n("div",{staticClass:"vww__wind"},[e._v("\n          Wind: "+e._s(Math.round(e.currently.windSpeed))+" mph ("+e._s(e.windBearing)+")\n        ")])]),e._v(" "),n("div",{staticClass:"vww__daily"},e._l(e.daily,function(t){return n("div",{key:t.time,staticClass:"vww__day"},[n("span",[e._v(e._s(t.weekName))]),e._v(" "),n("span",[n("skycon",{staticStyle:{display:"block"},attrs:{condition:t.icon,size:"26",color:e.textColor,paused:e.disableAnimation}})],1),e._v(" "),n("div",{staticClass:"vww__day-bar"},[n("div",{style:{height:t.top+"%"}},[n("span",[e._v(e._s(Math.round(t.temperatureMax))+"°")])]),e._v(" "),n("div",{style:{borderRadius:"10px",background:e.barColor,height:t.height+"%"}},[e._v("\n               \n            ")]),e._v(" "),n("div",{style:{height:t.bottom+"%"}},[n("span",[e._v(e._s(Math.round(t.temperatureMin))+"°")])])])])}),0)]:n("div",{staticClass:"vww__error"},[e._t("error",[n("skycon",{attrs:{condition:"rain",color:e.textColor,paused:e.disableAnimation}}),e._v(" "),n("span",{staticClass:"vww__title"},[e._v(e._s(e.error||"Something went wrong!"))])])],2)],2)],2)},staticRenderFns:[],name:"vue-weather-widget",components:{Skycon:SkyconComponent},props:{apiKey:{type:String,required:!0},address:{type:String},latitude:{type:String},longitude:{type:String},language:{type:String,default:"en"},units:{type:String,default:"us"},hideHeader:{type:Boolean,default:!1},updateInterval:{type:Number},disableAnimation:{type:Boolean,default:!1},barColor:{type:String,default:"#444"},textColor:{type:String,default:"#333"}},data:function(){return{loading:!0,weather:null,error:null,location:{},timeout:null}},watch:{apiKey:"hydrate",address:"hydrate",latitude:"hydrate",longitude:"hydrate",language:"hydrate",units:"hydrate",updateInterval:"hydrate"},mounted:function(){this.hydrate()},destroyed:function(){clearTimeout(this.timeout)},computed:{currently:function(){return this.weather.currently},isDownward:function(){for(var t=this.weather.hourly.data,e=(new Date).getTime()/1e3,n=0;n<t.length;n++)if(!(t[n].time<=e))return t[n].temperature<this.currently.temperature},windBearing:function(){return["N","NE","E","SE","S","SW","W","NW","N"][Math.round(this.currently.windBearing/45)]},daily:function(){for(var t=[],e=-1/0,n=1/0,o=(new Date).getTime()/1e3,i=this.weather.daily.data,a=0;a<i.length;a++){var r=i[a];r.temperatureMax>e&&(e=r.temperatureMax),r.temperatureMin<n&&(n=r.temperatureMin),t.push(Object.assign({},r))}for(var s=e-n,l=0;l<t.length;++l){var c=t[l];c.time<=o?c.weekName="Today":c.weekName=new Date(1e3*c.time).toLocaleDateString(this.language,{weekday:"short"});var u=c.temperatureMax,h=c.temperatureMin;c.height=Math.round(100*(u-h)/s),c.top=Math.round(100*(e-u)/s),c.bottom=100-(c.top+c.height)}return t}},methods:{loadWeather:function(){var e=this;return Utils.fetchWeather({apiKey:this.apiKey,lat:this.location.lat,lng:this.location.lng,units:this.units,language:this.language}).then(function(t){e.$set(e,"weather",t)})},autoupdate:function(){var t=this;clearTimeout(this.timeout);var e=Number(this.updateInterval);!e||e<10||this.destroyed||(this.timeout=setTimeout(function(){return t.hydrate(!1)},e))},hydrate:function(t){var e=this;return void 0===t&&(t=!0),this.$set(this,"loading",t),this.$nextTick().then(this.processLocation).then(this.loadWeather).then(function(){e.$set(e,"error",null)}).catch(function(t){e.$set(e,"error",""+t)}).finally(function(){e.$set(e,"loading",!1),e.autoupdate()})},processLocation:function(){var e=this;return this.latitude&&this.longitude?Utils.reverseGeocode(this.latitude,this.longitude).then(function(t){e.$set(e,"location",{lat:e.latitude,lng:e.longitude,name:t.region+", "+t.country})}):this.address?Utils.geocode(this.address).then(function(t){e.$set(e,"location",{lat:t.latitude,lng:t.longitude,name:t.region+", "+t.country})}):Utils.fetchLocationByIP().then(function(t){e.$set(e,"location",{lat:t.latitude,lng:t.longitude,name:t.city+", "+t.country.name})})}}},index={install:function(t){t.component("vue-weather",VueWeatherWidget)}};module.exports=index;
